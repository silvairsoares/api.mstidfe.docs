{
  "x-generator": "NSwag v12.2.5.0 (NJsonSchema v9.13.37.0 (Newtonsoft.Json v12.0.0.0))",
  "swagger": "2.0",
  "info": {
    "title": "Microsum api.mstiDFE",
    "description": "API para geração de Documentos Fiscais Eletrônicos (DF-e) do projeto SPED",
    "termsOfService": "None",
    "contact": {
      "name": "Microsum Tecnologia da Informação Ltda",
      "url": "https://microsum.com.br",
      "email": "suporte@microsum.com.br"
    },
    "license": {
      "name": "Use under LICX",
      "url": "https://example.com/license"
    },
    "version": "v1"
  },
  "host": "localhost:44342",
  "schemes": [
    "https"
  ],
  "produces": [
    "text/plain",
    "application/json",
    "text/json"
  ],
  "paths": {
    "/api/revenda": {
      "get": {
        "tags": [
          "Revenda"
        ],
        "summary": "Pesquisa todas as revendas",
        "operationId": "Revenda_GetRevendas",
        "parameters": [
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "type": "array",
              "items": {}
            }
          }
        }
      },
      "post": {
        "tags": [
          "Revenda"
        ],
        "summary": "Inclui uma nova revenda",
        "operationId": "Revenda_Post",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "name": "RevendaView",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RevendaViewModel"
            },
            "x-nullable": false
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IResultViewModel"
            }
          }
        }
      },
      "put": {
        "tags": [
          "Revenda"
        ],
        "summary": "Atualiza uma revenda específica",
        "operationId": "Revenda_Put",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "name": "RevendaView",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RevendaViewModel"
            },
            "x-nullable": false
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IResultViewModel"
            }
          }
        }
      }
    },
    "/api/revenda/{Id}": {
      "get": {
        "tags": [
          "Revenda"
        ],
        "summary": "Pesquisa uma revenda específica",
        "operationId": "Revenda_GetRevenda",
        "parameters": [
          {
            "type": "string",
            "name": "Id",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IEntidade"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Revenda"
        ],
        "summary": "Apaga uma revenda específica",
        "operationId": "Revenda_Delete",
        "parameters": [
          {
            "type": "string",
            "name": "Id",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IResultViewModel"
            }
          }
        }
      }
    },
    "/api/revenda/{RevendaId}/cliente": {
      "get": {
        "tags": [
          "RevendaCliente"
        ],
        "summary": "Pesquisa clientes pelo id da revenda",
        "operationId": "RevendaCliente_GetClientes",
        "parameters": [
          {
            "type": "string",
            "name": "RevendaId",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "type": "array",
              "items": {}
            }
          }
        }
      },
      "post": {
        "tags": [
          "RevendaCliente"
        ],
        "summary": "Inclui um novo cliente na carteria de uma revenda específica",
        "operationId": "RevendaCliente_AdicionarRevendaCliente",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "type": "string",
            "name": "RevendaId",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "name": "RevendaCliente",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RevendaClienteViewModel"
            },
            "x-nullable": false
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IResultViewModel"
            }
          }
        }
      },
      "put": {
        "tags": [
          "RevendaCliente"
        ],
        "summary": "Atualiza um cliente específico de uma revenda",
        "operationId": "RevendaCliente_AtualizarRevendaCliente",
        "consumes": [
          "application/json-patch+json",
          "application/json",
          "text/json",
          "application/*+json"
        ],
        "parameters": [
          {
            "type": "string",
            "name": "RevendaId",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "name": "RevendaCliente",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RevendaClienteViewModel"
            },
            "x-nullable": false
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IResultViewModel"
            }
          }
        }
      }
    },
    "/api/revenda/{RevendaId}/cliente/{ClienteCodigo}": {
      "get": {
        "tags": [
          "RevendaCliente"
        ],
        "summary": "Localiza um cliente específico de uma revenda",
        "operationId": "RevendaCliente_GetCliente",
        "parameters": [
          {
            "type": "string",
            "name": "RevendaId",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "ClienteCodigo",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IEntidade"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "RevendaCliente"
        ],
        "summary": "Apaga um cliente específico de uma revenda",
        "operationId": "RevendaCliente_DeletarRevendaCliente",
        "parameters": [
          {
            "type": "string",
            "name": "RevendaId",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "ClienteCodigo",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IResultViewModel"
            }
          }
        }
      },
      "post": {
        "tags": [
          "RevendaClienteToken"
        ],
        "summary": "Inclui um novo token no cadastro de um cliente",
        "operationId": "RevendaClienteToken_AdicionarRevendaClienteToken",
        "parameters": [
          {
            "type": "string",
            "name": "RevendaId",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "ClienteCodigo",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IResultViewModel"
            }
          }
        }
      }
    },
    "/api/revenda/{RevendaId}/cliente/{ClienteCodigo}/Token": {
      "get": {
        "tags": [
          "RevendaClienteToken"
        ],
        "summary": "Pesquisa tokens pelo id do cliente e da revenda",
        "operationId": "RevendaClienteToken_GetClientes",
        "parameters": [
          {
            "type": "string",
            "name": "RevendaId",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "ClienteCodigo",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "type": "array",
              "items": {}
            }
          }
        }
      }
    },
    "/api/revenda/{RevendaId}/cliente/{ClienteCodigo}/token/{Token}": {
      "get": {
        "tags": [
          "RevendaClienteToken"
        ],
        "summary": "Localiza um token específico de um cliente",
        "operationId": "RevendaClienteToken_GetCliente",
        "parameters": [
          {
            "type": "string",
            "name": "RevendaId",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "ClienteCodigo",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "Token",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IEntidade"
            }
          }
        }
      }
    },
    "/api/revenda/{RevendaId}/cliente/{ClienteCodigo}/{Token}": {
      "put": {
        "tags": [
          "RevendaClienteToken"
        ],
        "summary": "Revoga um token específico de um cliente",
        "operationId": "RevendaClienteToken_RevogarRevendaClienteToken",
        "parameters": [
          {
            "type": "string",
            "name": "RevendaId",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "ClienteCodigo",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "Token",
            "in": "path",
            "required": true,
            "x-nullable": true
          },
          {
            "type": "string",
            "name": "token",
            "in": "header",
            "description": "Chave de acesso à API, fornecida pela Revenda",
            "default": "msti"
          }
        ],
        "responses": {
          "200": {
            "x-nullable": true,
            "description": "",
            "schema": {
              "$ref": "#/definitions/IResultViewModel"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "IEntidade": {
      "type": "object",
      "x-abstract": true,
      "additionalProperties": false
    },
    "IResultViewModel": {
      "type": "object",
      "x-abstract": true,
      "additionalProperties": false,
      "required": [
        "httpStatusCode"
      ],
      "properties": {
        "httpStatusCode": {
          "$ref": "#/definitions/EHttpStatusCode"
        },
        "messages": {
          "type": "string"
        },
        "data": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/IViewModel"
          }
        }
      }
    },
    "EHttpStatusCode": {
      "type": "integer",
      "description": "",
      "x-enumNames": [
        "OK",
        "BadGateway",
        "NotFound",
        "MethodNotAllowed"
      ],
      "enum": [
        200,
        400,
        404,
        405
      ]
    },
    "IViewModel": {
      "type": "object",
      "x-abstract": true,
      "additionalProperties": false
    },
    "RevendaViewModel": {
      "allOf": [
        {
          "$ref": "#/definitions/Notificavel"
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "codigo"
          ],
          "properties": {
            "id": {
              "type": "string"
            },
            "codigo": {
              "type": "integer",
              "format": "int64"
            },
            "nome": {
              "type": "string"
            },
            "cpf": {
              "type": "string"
            },
            "cnpj": {
              "type": "string"
            },
            "clientes": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/RevendaClienteViewModel"
              }
            }
          }
        }
      ]
    },
    "RevendaClienteViewModel": {
      "allOf": [
        {
          "$ref": "#/definitions/Notificavel"
        },
        {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "codigo": {
              "type": "string"
            },
            "nome": {
              "type": "string"
            },
            "razaoSocial": {
              "type": "string"
            },
            "endereco": {
              "$ref": "#/definitions/EnderecoViewModel"
            },
            "cpf": {
              "type": "string"
            },
            "cnpj": {
              "type": "string"
            },
            "ie": {
              "type": "string"
            },
            "eMail": {
              "type": "string"
            },
            "tokens": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/RevendaClienteTokenViewModel"
              }
            }
          }
        }
      ]
    },
    "EnderecoViewModel": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "logradouro": {
          "type": "string"
        },
        "numero": {
          "type": "string"
        },
        "complemento": {
          "type": "string"
        },
        "bairro": {
          "type": "string"
        },
        "codigoIBGEMunicipio": {
          "type": "string"
        },
        "municipio": {
          "type": "string"
        },
        "uf": {
          "type": "string"
        },
        "cep": {
          "type": "string"
        },
        "codigoPais": {
          "type": "string"
        },
        "pais": {
          "type": "string"
        },
        "telefone": {
          "type": "string"
        }
      }
    },
    "RevendaClienteTokenViewModel": {
      "allOf": [
        {
          "$ref": "#/definitions/Notificavel"
        },
        {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "geracao",
            "revogacao"
          ],
          "properties": {
            "token": {
              "type": "string"
            },
            "geracao": {
              "type": "string",
              "format": "date-time"
            },
            "revogacao": {
              "type": "string",
              "format": "date-time"
            }
          }
        }
      ]
    },
    "Notificavel": {
      "allOf": [
        {
          "$ref": "#/definitions/Notifiable"
        },
        {
          "type": "object",
          "additionalProperties": false
        }
      ]
    },
    "Notifiable": {
      "type": "object",
      "x-abstract": true,
      "additionalProperties": false
    }
  }
}
